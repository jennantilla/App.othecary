{% extends 'base.html' %}

{% block title %}Search{% endblock %}

{% block content %}

<div class="container">
    <h1>Apothecary Shelf</h1>
    <p>Browse all supplements or filter by category or brand</p>
    <form class="add-form" action="/see-info.json" method="POST">
            <select class="search-filter" name="selected-item" style="width: 30%"></select>
            <input type="submit" class="m-1 btn btn-primary btn-sm" id="search-submit" value="See supplement details">
    </form>
</div>

<div class="container">
    <div class="row justify-content-between">
        <div class="col-6">
            <div id="search-facts">
                <h3><div id="prod-name"></div></h3>
                <div id="brand-name"></div>
                <div id="prod-cont"></div>
                <div id="prod-dir"></div>
                <div id="prod-serv"></div>
                <div id="prod-type"></div>
                <div id="supp-form"></div>
                <div id="targ-grp"></div>
                <div id="test-div"></div>
                <br>
                <canvas class="hide" id="label-pic" style="width:100%"></canvas>
            </div>
        </div>
        <div class="col-4">
            <div class="text-right hide" id="calculator">
            <h4>Calculate when you'll need to refill</h4>

            <form id="calculator-inputs" action="/calculator.json" method="POST">
                <label class="hide">ID:
                    <input id="label-id" name="label-id" readonly>
                </label>
                <label class="hide">Supplement:
                    <input class="hide" type="text" id="supp-name" name="supp-name"readonly>
                </label>
                <label class="hide">Net contents:
                    <input id="supp-content" name="supp-content" readonly>
                </label>
                <label>Start date:
                    <input type="date" id="start" name="date">
                </label>
                <label>Preferred serving size:
                    <input type="number" id="cust-serv-amt" name="cust-serv-amt">
                </label>
                <label>Serving form:
                    <button type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="right" title="Calculations are approximate. Less-definitive measuring types (e.g., 'scoop', 'drops') cannot be calculated."></button>
                </label>
                    <select name="serv-form">
                        <option value="unit">unit</option>
                        <option value="gram">gram</option>
                        <option value="ounce">ounce</option>
                        <option value="tbsp">tbsp.</option>
                        <option value="tsp">tsp.</option>
                    </select>
         <!--        </label> -->
                <label>Preferred servings per day:
                    <input type="number" id="cust-serv-freq" name="cust-serv-freq">
                </label>
                <input type="submit" class="btn btn-primary btn-sm" id="calc-submit" value="calculate!">
            </form>
            <div class="hide" id="run-out-dsply">You will run out on <span id="run-out-rslt"></span></div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row justify-content-between">
        <div id="add-routine-btn">
            <form class="hide" id="add-form" action="/add-routine" method="POST">
                <input class ="hide" id="selected" name="target-vit">
                <input class="hide" id="run-out-db" name="run-out">
                <button class="btn btn-primary" type="submit" value="Add to routine">Add to my routine</button>
            </form>
        </div>
    </div>
</div>
</div>

<script> 
    $(function () {
    $('[data-toggle="tooltip"]').tooltip()
    })
</script>

<script src="/static/js/search-add.js"></script>
<script src="/static/js/calculator.js"></script>

{% endblock %}